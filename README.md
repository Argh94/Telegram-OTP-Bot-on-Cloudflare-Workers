# โ๏ธ Telegram OTP Bot on Cloudflare Workers

[![Cloudflare Workers](https://img.shields.io/badge/Cloudflare-Workers-orange?logo=cloudflare)](https://workers.cloudflare.com/)
[![Bash Script](https://img.shields.io/badge/Shell-Bash-blue?logo=gnubash)](https://www.gnu.org/software/bash/)
[![Telegram Bot](https://img.shields.io/badge/Telegram-Bot-2CA5E0?logo=telegram)](https://core.telegram.org/bots)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

---

ุงู ูพุฑูฺู ฺฉ ุงุณฺฉุฑูพุช ุจุฑุง ุงุณุชูุฑุงุฑ ุณุฑุน ู ุงูู ฺฉ **ุฑุจุงุช ุชูฺฏุฑุงู** ุฌูุช ุฏุฑุงูุช ฺฉุฏูุง OTP (ฺฉุจุงุฑ ูุตุฑู) ูุจุชู ุจุฑ `otpauth://` ุฑู Cloudflare Workers ุงุณุช. ุงู ุฑุจุงุช ูพุณ ุงุฒ ุงุญุฑุงุฒ ููุช ุจุง ุฑูุฒ ุนุจูุฑุ ฺฉุฏูุง TOTP ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ Cloudflare KV ุจู ุตูุฑุช ูููุช ู ุงูู ุงุฑุงุฆู ูโุฏูุฏ.

**ุชูุฌู:** ุงู ูพุฑูฺู ุดุงูู ุฏุงุฏูโูุง ุญุณุงุณ (ฺฉูุฏูุง OTP ุดูุง) ุงุณุช. ุงููุช ุงฺฉุงูุช Cloudflare ู Bot Token ุชูฺฏุฑุงู ุฑุง ุฌุฏ ุจฺฏุฑุฏ.

---

## โจ ูฺฺฏโูุง

- **ุฑุงุจุท ุชูฺฏุฑุงู:** ุฏุฑุงูุช OTPูุง ููุท ุจุง ฺุช ุชูฺฏุฑุงู.
- **ุญูุงุธุช ุจุง ุฑูุฒ ุนุจูุฑ:** ุฑุจุงุช ููุท ุจุง ุฑูุฒ ุนุจูุฑ ูุงุจู ุงุณุชูุงุฏู ุงุณุช (ุจุง ูุญุฏูุฏุช ุชุนุฏุงุฏ ุชูุงุด).
- **ูุฏุฑุช ูุดุณุช:** ุจุง Cloudflare KV ู ูุญุฏูุฏุช ุฒูุงู ุจุฑุง ูุฑ ฺฉุงุฑุจุฑ.
- **ุฎูุงูุฏู ุงุชููุงุชฺฉ otpauth://:** ูุงุฑุฏ ฺฉุฑุฏู ฺฏุฑูู URLูุง TOTP ุงุฒ ูุฑ ุงูพูฺฉุดู ุงุญุฑุงุฒ ููุช (ูุซู Google Authenticator).
- **ุชููุฏ ูพูุง OTP:** ูพุดุชุจุงู ุงุฒ ุงูฺฏูุฑุชูโูุง ู ูพุงุฑุงูุชุฑูุง ูุฎุชูู TOTP (SHA1/SHA256/SHA512ุ ุชุนุฏุงุฏ ุฑููุ ุจุงุฒู ุฒูุงู).
- **ูุตุจ ู ุงุณุชูุฑุงุฑ ุฎูุฏฺฉุงุฑ:** ููู ููุงุฑุฏ ุงุฒ ุณุงุฎุช Worker ุชุง ุชูุธูุงุชุ ุจู ุตูุฑุช Bash Script.
- **ุจุฏูู ุฐุฎุฑู ุฑูุฒูุง ุฏุฑ ุณูุฑุณ:** ุฑูุฒ ุฑุจุงุช ู OTPูุง ุจู ุตูุฑุช Secret ุฐุฎุฑู ูโุดููุฏ ู ุฏุฑ ฺฉุฏ ูพุฑูฺู ูุฑุงุฑ ููโฺฏุฑูุฏ.

---

## ๐ฆ ูพุดโูุงุฒูุง

- **ุญุณุงุจ Cloudflare:** [ุซุจุชโูุงู](https://dash.cloudflare.com/sign-up)
- **Node.js ู npm:** ุฌูุช ูุตุจ Wrangler
    ```bash
    node -v
    npm -v
    ```
- **ูุตุจ Wrangler CLI:**
    ```bash
    npm install -g wrangler
    ```
- **ูุฑูุฏ ุจู Wrangler:**
    ```bash
    wrangler login
    ```
- **ุชูฺฉู ุฑุจุงุช ุชูฺฏุฑุงู:** ุณุงุฎุช ุงุฒ [BotFather](https://t.me/botfather)
- **ุฏุฑุงูุช otpauth:// URLs:** ุฎุฑูุฌ ฺฏุฑูุชู ุงุฒ ุงูพ ุงุญุฑุงุฒ ููุช (ูุซูุงู ุจุง [ุงู ุงุจุฒุงุฑ](https://github.com/dim13/otpauth))

---

## โก ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

1. **ฺฉููู ุง ุฏุงูููุฏ ูพุฑูฺู:**
    ```bash
    git clone <REPO_URL>
    cd <REPO_DIR>
    ```
2. **ุงุฌุฑุง ุงุณฺฉุฑูพุช ูุตุจ:**
    ```bash
    chmod +x install.sh
    ./install.sh
    ```
3. **ูพุงุณุฎ ุจู ุณูุงูุงุช ุงุณฺฉุฑูพุช:**
    - ูุงู Worker (ูุซูุงู: `my-otp-bot`)
    - ูุงู KV Namespace (ูุซูุงู: `OTP_BOT_SESSIONS`)
    - ุชูฺฉู ุฑุจุงุช ุชูฺฏุฑุงู
    - ุฑูุฒ ุนุจูุฑ ุฏุณุชุฑุณ ฺฉุงุฑุจุฑุงู
4. **ูุงุฑุฏ ฺฉุฑุฏู otpauth://:**
    - ุงุณฺฉุฑูพุช ูุงู `auth_list.txt` ูโุณุงุฒุฏ.
    - ุชูุงู URLูุง `otpauth://` ุฑุง ุฏุฑ ุขู (ูุฑ ุฎุท ฺฉ URL) ูุฑุงุฑ ุฏูุฏ.
    - ูพุณ ุงุฒ ุฐุฎุฑูุ ุฏุฑ ุชุฑููุงู `go` ุฑุง ูุงุฑุฏ ู Enter ุจุฒูุฏ.
5. **ุงุณุชูุฑุงุฑ ุฎูุฏฺฉุงุฑ:**
    - ุฎูุงูุฏู URLูุง ู ุชููุฏ ฺฉุฏ Worker
    - ุณุงุฎุช ุง ุงุณุชุฎุฑุงุฌ KV Namespace
    - ุณุงุฎุช `wrangler.toml`
    - ุฐุฎุฑู ุฑูุฒูุง ุจู ุตูุฑุช Secret
    - Deploy Worker
    - ุชูุธู ุงุชููุงุชฺฉ Webhook ุชูฺฏุฑุงู ุจู Worker ุฌุฏุฏ

---

---

## ๐ฎ ุงุณุชูุงุฏู

1. ุฑุจุงุช ุฑุง ุฏุฑ ุชูฺฏุฑุงู ุจุงุฒ ฺฉูุฏ ู `/start` ุจูุฑุณุชุฏ.
2. ุฑูุฒ ุนุจูุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ.
3. ูุณุช ุณุฑูุณโูุง OTP ุดูุง ููุงุด ุฏุงุฏู ูโุดูุฏ.
4. ุดูุงุฑู ูุฑุจูุท ุจู ุณุฑูุณ ููุฑุฏูุธุฑ ุฑุง ุงุฑุณุงู ฺฉูุฏ.
5. ฺฉุฏ OTP ุฑุง ุฏุฑุงูุช ูโฺฉูุฏ. (ุจุฑุง ูุฑ ุจุงุฑ ุฏุฑุงูุช ุจุงุฏ `/start` ุจุฒูุฏ)

---

## ๐ก๏ธ ูฺฉุงุช ุงููุช

- **ุฑูุฒ ุนุจูุฑ ูู ุงูุชุฎุงุจ ฺฉูุฏ.**
- **ุชูฺฉู ุฑุจุงุช ุชูฺฏุฑุงู ุฑุง ุจู ูฺ ุนููุงู ุฏุฑ ุฌุง ุฐุฎุฑู ูฺฉูุฏ ุง ุจู ุงุดุชุฑุงฺฉ ูฺฏุฐุงุฑุฏ.**
- **Cloudflare ุฎูุฏ ุฑุง ุจุง ุฑูุฒ ูู ู 2FA ุงูู ฺฉูุฏ.**
- **ูุงู `auth_list.txt` ุฑุง ูพุณ ุงุฒ ูุตุจ ุญุฐู ุง ุจู ุฌุง ุงูู ููุชูู ฺฉูุฏ.**
- **ุขุฏุฑุณ Worker ุนููู ุงุณุชุ ุงููุช ุตุฑูุงู ุจู ุฑูุฒ ุนุจูุฑ ู API ุชูฺฏุฑุงู ูุงุจุณุชู ุงุณุช.**

---

## โ๏ธ ุฏุณุชูุฑุงุช ููู

- **ุญุฐู Webhook ุชูฺฏุฑุงู:**
  ```bash
  curl -X POST https://api.telegram.org/bot<YOUR_BOT_TOKEN>/deleteWebhook
  ```
- **ุจุฑุฑุณ Webhook ูุนู:**
  ```bash
  curl https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getWebhookInfo
  ```
- **ุจุงุฒูุดุฑ Worker ูพุณ ุงุฒ ุชุบุฑ:**
  ```bash
  wrangler deploy
  ```

---

## ๐ ุฑูุน ุงุดฺฉุงู ู ูพุดุชุจุงู

- **ุฎุทุงูุง Wrangler:** ูุณุฎู Wrangler ุฑุง ุจุฑูุฒ ฺฉูุฏ ู ูุทูุฆู ุดูุฏ ูุงุฑุฏ ุดุฏูโุงุฏ (`wrangler login`).
- **ุฑุจุงุช ูพุงุณุฎ ููโุฏูุฏ:** Webhook ุฑุง ุจุฑุฑุณ ฺฉูุฏ ู ูุงฺฏ Worker ุฑุง ุจุง `wrangler tail` ุจุจูุฏ.
- **OTP ุงุดุชุจุงู:** URLูุง ุฑุง ุจุง ุฏูุช ู ุจุฏูู ุชุบุฑ ฺฉูพ ฺฉูุฏ. ุณุงุนุช ุณุณุชู ุฑุง ูุฒ ุฏูู ุชูุธู ฺฉูุฏ.

---

## ๐ป ุณุงุฒฺฏุงุฑ ุณุณุชู ุนุงูู

ุงู ุงุณฺฉุฑูพุช ุจุฑุง ูููฺฉุณ ู ูฺฉ ููุดุชู ุดุฏู ุงุณุช. ฺฉุงุฑุจุฑุงู ููุฏูุฒ ูโุชูุงููุฏ ุงุฒ WSL (Windows Subsystem for Linux) ุงุณุชูุงุฏู ฺฉููุฏ.

---

## ๐ ูุดุงุฑฺฉุช

ูพุดููุงุฏุ ุฑูุน ุจุงฺฏ ุง ุชูุณุนู ุจุดุชุฑุ ุฎูุดุญุงู ูโุดูู Pull Request ุง Issue ุซุจุช ฺฉูุฏ!

---

## ๐ ูุงุณูุณ

[MIT](LICENSE)
